"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[197],{92483:(e,t,r)=>{r.d(t,{wm:()=>i,jg:()=>n,Cl:()=>o,Lf:()=>s});var a=r(42508);const i=(0,a.PH)("SET_SELECTED_AVATAR_FOR_CHANGE_AVATAR_MODAL"),n=(0,a.PH)("CHANGE_AVATAR_MODAL_SELECTED"),o=(0,a.PH)("CHANGE_AVATAR_MODAL_SAVED"),s=(0,a.PH)("CHANGE_AVATAR_MODAL_CLOSED")},45682:(e,t,r)=>{r.d(t,{Z5:()=>o,zP:()=>s,Vs:()=>l,GC:()=>c,oX:()=>n});var a=r(77898),i=r(42508);const n=(0,i.PH)("DEVICE_CODE_CHANGED"),o=(0,i.PH)("DEVICE_CODE_SUBMITTED",a.yR,(0,a._X)(1)),s=(0,i.PH)("DEVICE_ACTIVATE_SUCCESS"),l=(0,i.PH)("DEVICE_ACTIVATE_ERROR"),c=(0,i.PH)("DEVICE_ACTIVATE_INVALID")},6830:(e,t,r)=>{r.d(t,{K:()=>a,M:()=>i});const a=6,i="auth.activate_device_user_code.user_code_activation_failure"},68404:(e,t,r)=>{r.d(t,{Z:()=>x});var a={};r.r(a),r.d(a,{activate:()=>u});var i={};r.r(i),r.d(i,{activateError:()=>v,activateSuccess:()=>g});var n={};r.r(n),r.d(n,{redirect:()=>y});var o={};r.r(o),r.d(o,{trackActivateRequested:()=>S});var s=r(77898),l=r(30554),c=r(45682),d=r(6830);const u=({API:e})=>(0,s.qC)((0,l.l4)(c.Z5.type),(0,l.UI)((0,s.vg)("payload")),(0,l.VS)((t=>e.activateDevice(t).then(c.zP).catch((0,s.KJ)((0,s.eq)(d.M),c.GC,c.Vs)))));var p=r(10514),m=r(51969);const g=({getState:e})=>(0,s.qC)((0,l.l4)(c.zP.type),(0,l.UI)(e),(0,l.hX)(m.F),(0,l.UI)((()=>(0,p.X)("activate_device.notification.success")))),v=()=>(0,s.qC)((0,l.l4)(c.Vs.type),(0,l.UI)((()=>(0,p.X)("activate_device.notification.error","error"))));var f=r(90246);const y=({getState:e})=>(0,s.qC)((0,l.l4)(c.zP.type),(0,l.hX)((0,s.qC)(m.gR,e)),(0,l.UI)((0,s.vg)("payload")),(0,l.ut)((({clientName:t})=>{const r=(0,f.GR)(t)(e());window.location.assign(r)})));var h=r(19901),C=r(98107),_=r(16039);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=({pathname:e,position:t,text:r})=>({event:"Activate Device Requested",payload:b({},(0,_.Z)({position:t,text:r,pathname:e}))}),S=({analytics:e,getState:t})=>(0,s.qC)((0,l.l4)(c.Z5.type),(0,l.UI)((0,s.z6)({pathname:(0,s.qC)(h.RO,t),text:(0,s.qC)((0,s.ET)(["meta","text"])),position:(0,s.Bx)(C.dv)})),(0,l.UI)(j),(0,l.ut)(e.track)),x=[...Object.values(a),...Object.values(i),...Object.values(n),...Object.values(o)]},98546:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(26680),i=r(37105),n=r(4269),o=r(73759);const s=(0,a.ZP)({resolved:{},chunkName:()=>"containers-ActivateDeviceContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(1545).then(r.bind(r,2510)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>2510}),l={path:o.U0,component:(0,n.Z)((0,i.w)(s)),load:s.load,exact:!0}},51969:(e,t,r)=>{r.d(t,{hg:()=>d,wp:()=>u,Cq:()=>c,gR:()=>p,F:()=>m});var a=r(77898),i=r(44841),n=r(41088),o=r(79711),s=r(27918);const l=(0,a.qC)((0,a.vg)("connectedDevices"),i.O),c=(0,a.qC)((0,a.vg)("code"),l),d=(0,a.qC)((0,a.vg)("isLoading"),l),u=(0,a.qC)((0,a.vg)("isInvalid"),l),p=(0,a.v1)(a.xD,[(0,a.qC)(((e=100)=>(0,s.Z)(e)),n.NH),(0,a.qC)(a.ff,o.rz)]),m=(0,a.v1)(a.or,[(0,a.qC)(a.ff,((e=100)=>(0,s.Z)(e)),n.NH),o.rz])},71963:(e,t,r)=>{r.d(t,{F:()=>a});const a=(0,r(42508).PH)("EMAIL_VERIFICATION_BUTTON_CLICKED")},99849:(e,t,r)=>{r.d(t,{Z:()=>v});var a={};r.r(a),r.d(a,{resendVerificationLink:()=>d});var i={};r.r(i),r.d(i,{verifyEmailRequestedAnalytics:()=>g});var n=r(77898),o=r(30554),s=r(10514),l=r(71963);const c=(0,s.X)("account.email_verification.link_sent_success","success"),d=({API:e})=>(0,n.qC)((0,o.l4)(l.F.type),(0,o.WY)(e.createEmailVerificationLink,(0,n.Bx)(c),n.ZT));var u=r(16039),p=r(19901),m=r(93767);const g=({getState:e,analytics:t})=>(0,n.qC)((0,o.l4)(l.F.type),(0,o.UI)((0,n.z6)({pathname:(0,n.qC)(p.RO,e),position:(0,n.ET)(["payload","position"]),text:({payload:{text:t}})=>(0,m.it)(e(),{id:t})||t})),(0,o.ut)((({pathname:e,position:r,text:a})=>{t.track({event:"Verify email link requested",payload:(0,u.Z)({position:r,text:a,pathname:e})})}))),v=[...Object.values(a),...Object.values(i)]},33373:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(26680),i=r(37105),n=r(4269),o=r(73759);const s=(0,a.ZP)({resolved:{},chunkName:()=>"containers-EmailVerificationContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(9223).then(r.bind(r,99419)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>99419}),l={path:o._J,component:(0,n.Z)((0,i.w)(s)),load:s.load,exact:!0}},2040:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(26680),i=r(37105),n=r(4269),o=r(73759);const s=(0,a.ZP)({resolved:{},chunkName:()=>"containers-EmailVerificationRequestedContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(7559).then(r.bind(r,76633)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>76633}),l={path:o.F8,component:(0,n.Z)((0,i.w)(s)),load:s.load,exact:!0}},26322:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(33373),i=r(2040);const n=[a.Z,i.Z]},73946:(e,t,r)=>{r.d(t,{Wl:()=>n,VW:()=>l,ue:()=>o,H9:()=>s});var a=r(77898),i=r(42508);const n=(0,i.PH)("FETCH_ETP_PROFILE_START"),o=(0,i.PH)("FETCH_ETP_PROFILE_SUCCESS"),s=(0,i.PH)("FETCH_ETP_PROFILE_ERROR"),l=(0,i.PH)("REFETCH_ETP_PROFILE_START",a.ZT)},48275:(e,t,r)=>{r.d(t,{Z:()=>y});var a={};r.r(a),r.d(a,{refetchEtpProfile:()=>u,refetchEtpProfileTriggers:()=>d});var i={};r.r(i),r.d(i,{setAudioLanguage:()=>v,updateAudioLanguage:()=>f});var n=r(77898),o=r(30554),s=r(73946),l=r(30612),c=r(50932);const d=()=>(0,n.qC)((0,o.l4)(l.s$.type,c.a6.type),(0,o.UI)(s.VW)),u=({API:e})=>(0,n.qC)((0,o.l4)(s.VW.type),(0,o.WY)(e.getProfile,s.ue,s.H9));var p=r(14005),m=r(3281),g=r(38422);const v=()=>(0,n.qC)((0,o.l4)(s.ue.type),(0,o.UI)((0,n.ET)(["payload","preferences",p.oU])),(0,o.hX)(Boolean),(0,o.ut)((e=>g.Z.setAudioLanguage(e)))),f=()=>(0,n.qC)((0,o.l4)(m.OZ.type,m.h_.type),(0,o.UI)((0,n.ET)(["payload",p.oU])),(0,o.hX)(Boolean),(0,o.ut)((e=>g.Z.setAudioLanguage(e)))),y=[...Object.values(a),...Object.values(i)]},73207:(e,t,r)=>{r.d(t,{OD:()=>f,Ms:()=>E,Hs:()=>b,u_:()=>O,jA:()=>j,km:()=>S,zC:()=>P,V7:()=>x,qw:()=>q,ns:()=>C,LU:()=>_,wX:()=>y,jq:()=>h,Oi:()=>T,z6:()=>U,kO:()=>N,lJ:()=>R,_g:()=>w,T9:()=>Z,Wt:()=>M,m7:()=>L,J6:()=>H});var a=r(77898),i=r(2693),n=r(14005),o=r(41073),s=r(61557),l=r(44841),c=r(93767);const{SUCCESS:d,PENDING:u,ERROR:p}=i.J_,m=(0,a.qC)((0,a.vg)("etpProfile"),l.O),g=(0,a.qC)((0,a.vg)("profile"),m),v=(0,a.qC)((0,a.vg)("status"),m),f=(0,a.qC)((0,a.vg)("email"),g),y=(0,a.qC)((0,a.vg)("avatar"),g),h=(0,a.qC)((0,a.vg)("avatarSource"),g),C=(0,a.qC)((0,a.vg)("wallpaper"),g),_=(0,a.qC)((0,a.vg)("wallpaperSource"),g),E=(0,a.qC)((0,a.vg)("username"),g),b=(0,a.qC)(Boolean,E),O=(0,a.qC)((0,a.vg)("phone"),g),j=(0,a.qC)(Boolean,O),S=(0,a.sv)([j,(0,a.qC)(a.ff,Boolean,f)]),x=(0,a.qC)((0,a.vg)("isProfileActivated"),g),P=(0,a.v1)(a.q9,[v,(0,a.Bx)([d,p])]),q=(0,a.qC)((0,a.eq)(u),v),I=(0,a.qC)((0,a.vg)("preferences"),g),A=(0,a.qC)((0,a.vg)(n.Kc),I),w=(0,a.qC)((0,a.eq)(n.Up),A),T=(0,a.qC)((0,a.yA)(o.ZW),(0,a.vg)(n.n8),I),U=(0,a.qC)((0,a.yA)(s.y),(0,a.vg)(n.RI),I),N=(0,a.v1)(a.yA,[c.Kd,(0,a.qC)((0,a.vg)(n.oU),I)]),R=(0,a.qC)((0,a.vg)(n.$i),I),D=(0,a.qC)((0,a.vg)(n.YN),I),Z=(0,a.qC)((0,a.eq)(n.G5),D),M=(0,a.qC)((0,a.vg)("isClosedCaptionsEnabled"),I),L=(0,a.qC)((0,a.vg)("doNotSell"),g),H=(0,a.qC)(Boolean,(0,a.vg)(n.oU),I)},89218:(e,t,r)=>{r.d(t,{n:()=>i,x:()=>n});var a=r(42508);const i=(0,a.PH)("LANGUAGE_PREFERENCES_SUBMITTED"),n=(0,a.PH)("LANGUAGE_PREFERENCES_MODAL_DISMISSED")},39675:(e,t,r)=>{r.d(t,{h:()=>a});const a="language-preferences"},65721:(e,t,r)=>{r.d(t,{ZP:()=>M});var a=r(27749),i=r(47091),n=r(25223),o=r(37734),s=r(1856),l=r(30914),c=r(7229),d=r(2729),u=r(58423),p=r(87401),m=r(77898),g=r(67064),v=r.n(g);const f=(0,p.createContext)({handleSelectClose:m.ZT,setActiveValueText:m.ZT,onChange:m.ZT,activeValue:""});var y=r(44899);class h extends p.Component{constructor(e){super(e),this.handleOptionClick=this.handleOptionClick.bind(this)}handleOptionClick(){const{handleSelectClose:e,onChange:t}=this.context,{value:r}=this.props;t(r),e()}render(){const{text:e,value:t}=this.props,{activeValue:r}=this.context,a=r===t;return(0,y.jsx)(d.Z,{className:v()("erc-language-mobile-selector-option",{"option-active":a}),as:"button","data-t":"language-mobile-selector-option-btn",onClick:this.handleOptionClick,children:(0,y.jsx)(c.Z,{as:"span",size:"m",children:e})})}}h.contextType=f;const C=h;class _ extends p.Component{constructor(e){super(e),this.state={isOpen:!1},this.handleSelectOpen=this.handleSelectOpen.bind(this),this.handleSelectClose=this.handleSelectClose.bind(this)}handleSelectOpen(){this.setState({isOpen:!0}),this.props.onShow()}handleSelectClose(){this.setState({isOpen:!1}),this.props.onHide()}render(){const{isOpen:e}=this.state,{label:t,activeValue:r,children:a,onChange:i,activeValueText:n}=this.props;return(0,y.jsx)(f.Provider,{value:{handleSelectClose:this.handleSelectClose,activeValue:r,onChange:i},children:(0,y.jsxs)("div",{className:"erc-language-mobile-selector",children:[(0,y.jsxs)("div",{className:"trigger",children:[(0,y.jsx)(c.Z,{as:"span",size:"s",className:"selector-name",children:t}),(0,y.jsxs)(d.Z,{className:"trigger-btn",as:"button","data-t":"language-mobile-selector-trigger-btn",onClick:this.handleSelectOpen,children:[(0,y.jsx)(c.Z,{as:"span",size:"xl",weight:"semibold",children:n}),(0,y.jsx)(u.Z,{className:"angle"})]})]}),e&&(0,y.jsx)("div",{className:"content-wrapper",children:(0,y.jsxs)("div",{className:"content",children:[(0,y.jsxs)(d.Z,{as:"button",className:"content-close-btn","data-t":"language-mobile-selector-close-btn",onClick:this.handleSelectClose,children:[(0,y.jsx)(u.Z,{className:"angle",direction:"left"})," ",(0,y.jsx)(c.Z,{className:"content-close-btn-text",as:"span",size:"xl",weight:"semibold",children:t})]}),(0,y.jsx)("div",{className:"options",children:(0,y.jsxs)("div",{className:"options-wrapper",children:[(0,y.jsx)("div",{className:"fade"}),a]})})]})})]})})}}_.Option=C,_.defaultProps={onChange:m.ZT,onHide:m.ZT,onShow:m.ZT};const E=_,b=(e,t)=>{var r;return(null===(r=t.find((({value:t})=>t===e)))||void 0===r?void 0:r.text)||""},O=`${l.S}/assets/img/language_preferences_modal`,j=({isOpen:e,audioLanguage:t,subtitlesLanguage:r,handleClose:a,subtitlesOptions:i,audioOptions:l,setAudioLanguage:c,setSubtitlesLanguage:d,handleSubmit:u})=>(0,y.jsx)(n.Z,{className:"erc-language-preferences-modal",handleClose:a,isOpen:e,absoluteContent:(0,y.jsxs)("div",{children:[(0,y.jsxs)("picture",{className:"hime-rtl",children:[(0,y.jsx)("source",{srcSet:`${O}/hime-rtl.webp, ${O}/hime-rtl@2x.webp 2x, ${O}/hime-rtl@3x.webp 3x`,type:"image/webp"}),(0,y.jsx)("img",{src:`${O}/hime-rtl@3x.png`,srcSet:`${O}/hime-rtl.png, ${O}/hime-rtl@2x.png 2x, ${O}/hime-rtl@3x.png 3x`,alt:"RTL Hime"})]}),(0,y.jsxs)("picture",{className:"hime",children:[(0,y.jsx)("source",{srcSet:`${O}/hime.webp, ${O}/hime@2x.webp 2x, ${O}/hime@3x.webp 3x`,type:"image/webp"}),(0,y.jsx)("img",{src:`${O}/hime@3x.png`,srcSet:`${O}/hime.png, ${O}/hime@2x.png 2x, ${O}/hime@3x.png 3x`,alt:"Hime"})]}),(0,y.jsxs)("picture",{className:"yuzu",children:[(0,y.jsx)("source",{srcSet:`${O}/yuzu.webp, ${O}/yuzu@2x.webp 2x, ${O}/yuzu@3x.webp 3x`,type:"image/webp"}),(0,y.jsx)("img",{src:`${O}/yuzu@3x.png`,srcSet:`${O}/yuzu.png, ${O}/yuzu@2x.png 2x, ${O}/yuzu@3x.png 3x`,alt:"Yuzu"})]})]}),children:(0,y.jsx)("div",{className:"modal-container",children:(0,y.jsx)("div",{className:"modal-scrollable-wrapper",children:(0,y.jsxs)("div",{className:"modal-content",children:[(0,y.jsx)(n.Z.Header,{children:(0,y.jsx)(s.Z,{id:"language_preferences_modal.heading"})}),(0,y.jsx)(n.Z.Text,{children:(0,y.jsx)(s.Z,{id:"language_preferences_modal.copy"})}),(0,y.jsxs)("div",{className:"modal-form",children:[(0,y.jsxs)("div",{className:"modal-fields",children:[(0,y.jsx)(E,{label:(0,y.jsx)(s.Z,{id:"account.preferences.audio_language"}),activeValueText:b(t,l),activeValue:t,onChange:c,children:l.map((({text:e,value:t})=>(0,y.jsx)(E.Option,{text:e,value:t},t)))}),(0,y.jsx)(E,{label:(0,y.jsx)(s.Z,{id:"account.preferences.subtitles_or_closed_captions_language"}),activeValueText:b(r,i),activeValue:r,onChange:d,children:i.map((({text:e,value:t})=>(0,y.jsx)(E.Option,{text:e,value:t},t)))})]}),(0,y.jsx)(o.Z,{"data-t":"language-preferences-modal-btn",onClick:u,children:(0,y.jsx)(s.Z,{id:"language_preferences_modal.cta"})})]})]})})})});j.defaultProps={isOpen:!1,subtitlesOptions:[],audioOptions:[]};const S=j;var x=r(97321),P=r(42508),q=r(98710),I=r(59161),A=r(88659),w=r(89218),T=r(93767),U=r(73207),N=r(71396),R=r(23257);const D={isOpen:i.lv,isEtpProfileFetched:U.zC,subtitlesOptions:I.yw,audioOptions:A.HF,locale:T.Kd,currentSubtitlesLanguage:U.lJ,areSubtitlesLanguagesLoaded:I.yC,areAudioLanguagesLoaded:A.m8,isAuthenticated:x.$8},Z={languagePreferencesSubmitted:w.n,languagePreferencesModalDismissed:w.x},M=(0,m.qC)((0,P.$j)(D,Z),(0,q.Bx)((0,m.sv)([(0,m.vg)("areAudioLanguagesLoaded"),(0,m.vg)("areSubtitlesLanguagesLoaded"),(0,m.vg)("isAuthenticated"),(0,m.vg)("isEtpProfileFetched")])),(0,q.xJ)("audioLanguage","setAudioLanguage",(0,m.vg)("locale")),(0,q.xJ)("subtitlesLanguage","setSubtitlesLanguage",(0,m.vg)("currentSubtitlesLanguage")),a.ZP,(0,q.vl)((({intl:e,audioOptions:t,subtitlesOptions:r})=>({subtitlesOptions:[...r,{value:R.V,text:e.formatMessage({id:"account.preferences.subtitle_language.none"})}],audioOptions:[{value:N.e,text:e.formatMessage({id:"account.preferences.audio_language.japanese"})},...t]}))),(0,q.CA)({handleClose:({languagePreferencesModalDismissed:e})=>()=>e(),handleSubmit:({languagePreferencesSubmitted:e,audioLanguage:t,subtitlesLanguage:r})=>()=>e({audioLanguage:t,subtitlesLanguage:r})}))(S)},18410:(e,t,r)=>{r.d(t,{Z:()=>N});var a={};r.r(a),r.d(a,{hide:()=>O,show:()=>b});var i={};r.r(i),r.d(i,{languagePreferencesModalSubmitted:()=>S});var n={};r.r(n),r.d(n,{hide:()=>T,hideOnNavigation:()=>U,show:()=>w});var o=r(1516),s=r(30554),l=r(77898),c=r(32240),d=r(39675),u=r(89218),p=r(4323),m=r(59161),g=r(88659),v=r(47091),f=r(36175),y=r(3281),h=r(73207),C=r(97321),_=r(34211),E=r(73946);const b=({getState:e})=>(0,l.qC)((0,s.l4)(p.F.type,f.m.type,o.us.type,o.Wc.type,E.ue.type),(0,s.UI)(e),(0,s.hX)((0,l.sv)([v.BX,h.zC,C.$8,m.yC,g.m8,(0,l.qC)(l.ff,v.gb),(0,l.qC)(l.ff,v.lv),(0,l.qC)(l.ff,h.J6)])),(0,s.hX)((0,l.Xp)([(0,l.qC)(l.ff,_.iG),(0,l.sv)([_.iG,_.H9])])),(0,s.hX)((0,l.qC)(l.ff,_.RI)),(0,s.UI)((()=>(0,o.SK)({[c.z]:d.h})))),O=({getState:e})=>(0,l.qC)((0,s.l4)(y.Ns.type,u.x.type),(0,s.UI)(e),(0,s.hX)(v.lv),(0,s.UI)((()=>(0,o.Gw)([c.z]))));var j=r(14005);const S=({getState:e})=>(0,l.qC)((0,s.l4)(u.n.type),(0,s.UI)((0,l.qC)(y.Ns,(0,l.tE)([(0,l.z6)({preferenceKey:(0,l.Bx)(j.oU),oldValue:(0,l.Bx)(null),newValue:(0,l.ET)(["payload","audioLanguage"])}),(0,l.z6)({preferenceKey:(0,l.Bx)(j.$i),newValue:(0,l.ET)(["payload","subtitlesLanguage"]),oldValue:(0,l.qC)(h.lJ,e)})]))));var x=r(19901),P=r(73759),q=r(19567),I=r(21599),A=r(29431);const w=({getState:e})=>(0,l.qC)((0,s.l4)(A.S1.type,o.us.type,o.Wc.type,y.o3.type),(0,s.UI)(e),(0,s.hX)((0,l.sv)([C.$8,v.gb,v.BX,(0,l.qC)(l.ff,(0,l.Xp)([h.J6,(0,x.wo)(P.C6),v.zB]))])),(0,s.UI)((()=>(0,q.pP)(I.dY)))),T=()=>(0,l.qC)((0,s.l4)(q.Rm.type,q.VZ.type),(0,s.UI)((()=>(0,q.j$)([I.dY])))),U=({getState:e})=>(0,l.qC)((0,s.l4)(o.us.type),(0,s.UI)(e),(0,s.hX)((0,x.wo)(P.C6)),(0,s.UI)((()=>(0,q.j$)([I.dY])))),N=[...Object.values(a),...Object.values(i),...Object.values(n)]},47091:(e,t,r)=>{r.d(t,{lv:()=>c,zB:()=>p,gb:()=>u,BX:()=>m});var a=r(32240),i=r(19901),n=r(77898),o=r(39675),s=r(44841),l=r(73759);const c=(0,n.qC)((0,n.eq)(o.h),(0,n.vg)(a.z),i.pm),d=(0,n.qC)((0,n.vg)("languagePreferencesOnboarding"),s.O),u=(0,n.qC)((0,n.vg)("isModalClosed"),d),p=(0,n.qC)((0,n.vg)("isMessageClosed"),d),m=(0,n.qC)(n.ff,(0,n.Xp)([i.I3,(0,i.wo)(l.pV),(0,i.wo)(l.Tk)]))},96377:(e,t,r)=>{r.d(t,{t6:()=>i,K9:()=>n,Qc:()=>o,x3:()=>s});var a=r(42508);const i=(0,a.PH)("FETCH_USER_PREMIUM_STATUS_SUCCESS"),n=(0,a.PH)("FETCH_FREE_TRIAL_ELIGIBILITY_SUCCESS"),o=(0,a.PH)("FETCH_PREMIUM_PRICE_SUCCESS"),s=(0,a.PH)("FETCH_FAN_PACK_PRICE_SUCCESS")},31385:(e,t,r)=>{r.d(t,{Rp:()=>u,ER:()=>a,KS:()=>i,v8:()=>n,N7:()=>o,rc:()=>s,Pi:()=>l,PA:()=>c,DL:()=>d,u0:()=>p});const a=14,i="PREMIUM",n="free",o="cr_premium",s="cr_fan_pack",l="cr_premium_plus",c="premium",d="fan_pack",u="premium_plus",p="super_fan_pack"},5321:(e,t,r)=>{r.d(t,{Z:()=>y});var a={};r.r(a),r.d(a,{fetchFanPackPrice:()=>f,fetchFreeTrialEligibility:()=>g,fetchPremiumPrice:()=>v,fetchUserPremiumStatus:()=>m});var i=r(77898),n=r(30554),o=r(96377),s=r(97321),l=r(79711),c=r(15653),d=r(65119),u=r(24746),p=r(10695);const m=({API:e,getState:t})=>(0,i.qC)((0,n.l4)(d.fy.type),(0,n.UI)((0,i.qC)(s.Me,t)),(0,n.WY)(e.getUserPremiumStatus,o.t6,i.ZT)),g=({API:e,getState:t})=>(0,i.qC)((0,n.l4)(o.t6.type),(0,n.hX)((0,i.qC)(i.ff,l.rz,t)),(0,n.UI)((0,i.qC)(s.Me,t)),(0,n.WY)(e.getFreeTrialEligibility,o.K9)),v=({API:e,getState:t})=>(0,i.qC)((0,n.l4)(o.K9.type),(0,n.hX)((0,i.qC)(i.ff,l.wu,t)),(0,n.WY)(e.getPremiumPrice,o.Qc)),f=({API:e})=>(0,i.qC)((0,n.l4)(c.XE.type,u.mM.type,p.P2.type),(0,n.WY)(e.getFanPackPrice,o.x3)),y=[...Object.values(a)]},79711:(e,t,r)=>{r.d(t,{rz:()=>d,wE:()=>u,jc:()=>p,Zi:()=>v,wu:()=>g,OJ:()=>m,R8:()=>y,Zp:()=>h,r2:()=>C,BX:()=>_,Sw:()=>E,gX:()=>f,me:()=>b,Kh:()=>l,Nl:()=>c});var a=r(77898),i=r(97321),n=r(44841);const o=(0,a.qC)((0,a.vg)("membership"),n.O),s=(0,a.qC)((0,a.vg)("userPremiumStatus"),o),l=(0,a.qC)((0,a.vg)("isPremiumFromCrunchyroll"),s),c=(0,a.qC)((0,a.vg)("isPremiumFromDragonfly"),s),d=(0,a.KJ)((0,a.qC)(a.Mg,s),(0,a.v1)(a.or,[l,c]),(0,a.Bx)(null)),u=(0,a.qC)(a.ff,d),p=(0,a.v1)(a.or,[(0,a.qC)(a.ff,(0,a.eq)(null),d),(0,a.v1)(a.xD,[i.Eq,i.TF])]),m=(0,a.qC)((0,a.vg)("freeTrialDuration"),o),g=(0,a.v1)(a.or,[(0,a.qC)((0,a.vg)("isEligibleForFreeTrial"),o),i.TF]),v=(0,a.v1)(a.xD,[(0,a.qC)(a.ff,(0,a.vg)("isEligibleForFreeTrial"),o),i.$8]),f=(0,a.qC)((0,a.vg)("accessType"),o),y=(0,a.qC)((0,a.vg)("premiumPrice"),o),h=(0,a.qC)((0,a.vg)("amount"),y),C=(0,a.qC)((0,a.vg)("currency"),y),_=(0,a.qC)((0,a.vg)("fanPackPrice"),o),E=(0,a.qC)((0,a.vg)("amount"),_),b=(0,a.qC)((0,a.vg)("currency"),_)},3840:(e,t,r)=>{r.d(t,{N8:()=>i,mp:()=>n,ev:()=>o,Lx:()=>s,VR:()=>l});var a=r(42508);const i=(0,a.PH)("SAVE_USERNAME_AND_AVATAR_FOR_PROFILE_ACTIVATION"),n=(0,a.PH)("REDIRECT_TO_PROFILE_ACTIVATION_REQUIRED"),o=(0,a.PH)("REDIRECT_FROM_PROFILE_ACTIVATION_REQUIRED"),s=(0,a.PH)("CHANGE_AVATAR_ABANDONED"),l=(0,a.PH)("CHANGE_AVATAR_QUEUED")},93587:(e,t,r)=>{r.d(t,{Z:()=>Ee});var a={};r.r(a),r.d(a,{avatarSavedAnalytics:()=>h});var i={};r.r(i),r.d(i,{setRandomUserAvatar:()=>b});var n={};r.r(n),r.d(n,{setValidationStatus:()=>P});var o={};r.r(o),r.d(o,{setSuggestion:()=>q});var s={};r.r(s),r.d(s,{trackIdentityAnalytics:()=>Z,usernameSavedAnalytics:()=>M});var l={};r.r(l),r.d(l,{onSaveUsernameSuccess:()=>F,saveAvatar:()=>B,saveUsernameAndAvatar:()=>V,updateReferrer:()=>z});var c={};r.r(c),r.d(c,{changeAvatarAbandonedAnalytics:()=>oe,changeAvatarQueuedAnalytics:()=>se,profileActivationErrorAnalytics:()=>ne});var d={};r.r(d),r.d(d,{clearMessages:()=>_e,redirect:()=>Ce,redirectFromProfileActivation:()=>he,redirectToProfileActivation:()=>ye});var u=r(77898),p=r(30554),m=r(73759),g=r(96500),v=r(19901),f=r(75498),y=r(30612);const h=({getState:e,analytics:t})=>(0,u.qC)((0,p.l4)(y.s$.type),(0,p.hX)((()=>(0,u.v1)(u.or,[v.wo,v.id])(m.o9,e()))),(0,p.UI)(e),(0,p.UI)((0,u.z6)({oldValue:(0,u.Bx)(""),newValue:g.D,isSystemGenerated:(0,u.v1)(u.eq,[g.D,g.S]),hasBeenModerated:(0,u.Bx)(!1)})),(0,p.UI)(f.ZP),(0,p.ut)(t.track));var C=r(22307),_=r(42032);const E=e=>e[Math.floor(Math.random()*e.length)],b=({getState:e})=>(0,u.qC)((0,p.l4)(y.M.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)((({payload:t})=>{const r=(0,_.D)(e());if(r)return r;const a=E(t);return E(a.items).id})),(0,p.UI)(C.c)),O=[...Object.values(a),...Object.values(i)];var j=r(93767),S=r(34975),x=r(67537);const P=({getState:e})=>(0,u.qC)((0,p.l4)(x.HV.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)((({payload:{usernameSuggestion:t}})=>(0,S.K1)({msg:t?(0,j.it)(e(),{id:"input.username.validation.suggestion"}):(0,j.it)(e(),{id:"input.username.validation.unavailable"}),isError:!t})))),q=({getState:e})=>(0,u.qC)((0,p.l4)(x.HV.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)((0,u.ET)(["payload","usernameSuggestion"])),(0,p.hX)(Boolean),(0,p.UI)(S.AT));function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T=e=>({event:"Profile Updated",payload:A({settingName:"username"},e)});var U=r(97321),N=r(73207),R=r(68760),D=r(47961);const Z=({getState:e})=>(0,u.qC)((0,p.l4)(x.LR.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.ut)((({payload:t})=>{const r=(0,U._4)(e()),a=(0,U.Me)(e());(0,D.e5)(r,{externalUserId:a,isUserInBeta:!0,username:t})}))),M=({getState:e,analytics:t})=>(0,u.qC)((0,p.l4)(x.LR.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)(e),(0,p.UI)((0,u.z6)({oldValue:N.Ms,newValue:R.Ms,isSystemGenerated:(0,u.v1)(u.eq,[R.Ms,R.by]),hasBeenModerated:(0,u.v1)(u.eq,[R.Ms,R.EY])})),(0,p.UI)(T),(0,p.ut)(t.track)),L=[...Object.values(n),...Object.values(o),...Object.values(s)];var H=r(25208),k=r(3840);const V=({getState:e})=>(0,u.qC)((0,p.l4)(k.N8.type),(0,p.UI)((()=>(0,x.LX)((0,R.Ms)(e()))))),F=({getState:e})=>(0,u.qC)((0,p.l4)(x.LR.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)((()=>(0,C.M)()))),B=({getState:e})=>(0,u.qC)((0,p.l4)(C.M.type),(0,p.UI)((()=>(0,y.gw)((0,g.D)(e()))))),z=()=>(0,u.qC)((0,p.l4)(k.N8.type,C.M.type),(0,p.UI)((()=>(0,H.t)())));var X=r(78983);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G=e=>({event:"Error",payload:$({error:"Could not activate the profile"},e)});function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ee=e=>({event:"Profile Change Abandoned",payload:J({field:"avatar"},e)});function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ie=e=>({event:"Profile Change Queued",payload:re({field:"avatar"},e)}),ne=({getState:e,analytics:t})=>(0,u.qC)((0,p.l4)(y.RD.type,x.wg.type),(0,p.hX)((()=>(0,v.wo)(m.o9,e()))),(0,p.UI)(e),(0,p.UI)((0,u.z6)({screenName:X.j})),(0,p.UI)(G),(0,p.ut)(t.track)),oe=({analytics:e})=>(0,u.qC)((0,p.l4)(k.Lx.type),(0,p.UI)((0,u.vg)("payload")),(0,p.UI)(ee),(0,p.ut)(e.track)),se=({analytics:e})=>(0,u.qC)((0,p.l4)(k.VR.type),(0,p.UI)((0,u.vg)("payload")),(0,p.UI)(ie),(0,p.ut)(e.track));var le=r(1516),ce=r(30619);const de=(0,u.qC)((0,u.vg)("referrer"),ce.k);var ue=r(29431),pe=r(73946),me=r(19567),ge=r(21599),ve=r(36992);const fe=()=>(0,p.hX)(v.P6),ye=({getState:e})=>(0,u.qC)((0,p.l4)(ue.TD.type),(0,p.UI)(e),fe(),(0,p.hX)((0,u.sv)([(0,u.qC)(u.ff,N.V7),(0,u.qC)(u.ff,(0,v.wo)(m.pV)),(0,u.qC)(u.ff,N.km)])),(0,p.UI)((0,u.qC)(k.mp,(0,u.z6)({to:(0,u.Bx)(m.o9),referrer:v.k$})))),he=({getState:e})=>(0,u.qC)((0,p.l4)(pe.ue.type),(0,p.UI)(e),fe(),(0,p.hX)((0,u.v1)(u.xD,[(0,v.wo)(m.pV),N.V7])),(0,p.UI)((0,u.qC)(k.ev,(0,u.z6)({to:de})))),Ce=(0,ve.Z)(k.ev.type,k.mp.type),_e=({getState:e})=>(0,u.qC)((0,p.l4)(le.Wc.type),(0,p.UI)(e),(0,p.hX)((0,v.wo)(m.pV)),(0,p.UI)((()=>(0,me.j$)(ge.oK)))),Ee=[...O,...L,...Object.values(l),...Object.values(c),...Object.values(d)]},22307:(e,t,r)=>{r.d(t,{c:()=>i,M:()=>n});var a=r(42508);const i=(0,a.PH)("SET_USER_RANDOM_AVATAR_FOR_PROFILE_ACTIVATION"),n=(0,a.PH)("SAVE_AVATAR_FOR_PROFILE_ACTIVATION")},96500:(e,t,r)=>{r.d(t,{D:()=>o,S:()=>s});var a=r(77898),i=r(30619);const n=(0,a.qC)((0,a.vg)("avatar"),i.k),o=(0,a.qC)((0,a.vg)("userAvatar"),n),s=(0,a.qC)((0,a.vg)("userRandomAvatar"),n)},34975:(e,t,r)=>{r.d(t,{YI:()=>i,K1:()=>n,Yp:()=>o,AT:()=>s,R:()=>l});var a=r(42508);const i=(0,a.PH)("SET_USERNAME_FOR_PROFILE_ACTIVATION"),n=(0,a.PH)("SET_USERNAME_VALIDATION_STATUS_FOR_PROFILE_ACTIVATION"),o=(0,a.PH)("RESET_USERNAME_VALIDATION_STATUS_FOR_PROFILE_ACTIVATION"),s=(0,a.PH)("SET_MODERATED_USERNAME_FOR_PROFILE_ACTIVATION"),l=(0,a.PH)("SET_GENERATED_USERNAME_FOR_PROFILE_ACTIVATION")},68760:(e,t,r)=>{r.d(t,{si:()=>c,il:()=>l,dt:()=>s,Ms:()=>d,EY:()=>u,by:()=>p,h3:()=>m});var a=r(77898),i=r(30619);const n=(0,a.qC)((0,a.vg)("username"),i.k),o=(0,a.qC)((0,a.vg)("usernameValidation"),n),s=(0,a.qC)(a.ff,Boolean,String,(0,a.vg)("username"),n),l=(0,a.qC)((0,a.vg)("isError"),o),c=(0,a.qC)(Boolean,(0,a.vg)("msg"),o),d=(0,a.qC)((0,a.vg)("username"),n),u=(0,a.qC)((0,a.vg)("moderatedUsername"),n),p=(0,a.qC)((0,a.vg)("generatedUsername"),n),m=(0,a.qC)((0,a.vg)("msg"),o)},91579:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(26680),i=r(37105),n=r(4269);const o=(0,a.ZP)({resolved:{},chunkName:()=>"containers-ProfileActivationContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>Promise.all([r.e(5409),r.e(6863)]).then(r.bind(r,83362)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>83362}),s={path:"/profile/activation",component:(0,n.Z)((0,i.w)(o)),load:o.load,exact:!0}},30619:(e,t,r)=>{r.d(t,{k:()=>o});var a=r(40553),i=r(35199),n=r(44841);const o=(0,a.Z)((0,i.Z)("profileActivation"),n.O)},45875:(e,t,r)=>{r.d(t,{c4:()=>l,xb:()=>c,tu:()=>o,dE:()=>s,Ht:()=>d,Hr:()=>u,Jn:()=>i,eD:()=>n});var a=r(42508);const i=(0,a.PH)("REDIRECT_TO_PROFILE_EMAIL_REQUIRED"),n=(0,a.PH)("REDIRECT_FROM_PROFILE_EMAIL_REQUIRED"),o=(0,a.PH)("PROFILE_EMAIL_INPUT_CHANGED"),s=(0,a.PH)("PROFILE_EMAIL_MARKETING_OPT_IN_CHANGED"),l=(0,a.PH)("PROFILE_EMAIL_BACK_BUTTON_CLICKED"),c=(0,a.PH)("PROFILE_EMAIL_CONTINUE_BUTTON_CLICKED"),d=(0,a.PH)("SET_PROFILE_EMAIL_SUCCESS"),u=(0,a.PH)("SET_PROFILE_EMAIL_FAILED")},92748:(e,t,r)=>{r.d(t,{Z:()=>B});var a={};r.r(a),r.d(a,{setEmail:()=>u});var i={};r.r(i),r.d(i,{setErrorMessage:()=>g});var n={};r.r(n),r.d(n,{clearMessages:()=>T,profileEmailRedirects:()=>w,redirectFromProfileEmail:()=>q,redirectFromProfileEmailOnSavingEmail:()=>I,redirectFromProfileEmailWithMarketingOptIn:()=>A,redirectToProfileEmail:()=>S});var o={};r.r(o),r.d(o,{backButtonClickedAnalytics:()=>F,emailConfirmed:()=>H,emailRequestFailed:()=>k,emailRequestSuccess:()=>V});var s=r(77898),l=r(30554),c=r(45875),d=r(79548);const u=({getState:e,API:t})=>(0,s.qC)((0,l.l4)(c.xb.type),(0,l.UI)((0,s.qC)(d.lD,e)),(0,l.VS)((e=>t.setEmail(e).then((()=>(0,c.Ht)(e))).catch(c.Hr))));var p=r(10514);const m=(0,s.RR)(s.vg)({"accounts.set_email_by_phone.email_already_set":"onboarding.profile_email.errors.email_already_set","accounts.set_email_by_phone.invalid_field":"onboarding.profile_email.errors.invalid_email","accounts.set_email_by_phone.not_unique":"onboarding.profile_email.errors.invalid_email"}),g=()=>(0,s.qC)((0,l.l4)(c.Hr.type),(0,l.UI)((0,s.ET)(["payload","data","context",0,"code"])),(0,l.UI)((0,s.qC)((0,s.yA)("onboarding.profile_email.errors.common_message"),m)),(0,l.UI)((e=>(0,p.X)(e,"error"))));var v=r(1516),f=r(73759),y=r(19901),h=r(73207),C=r(29431),_=r(19567),E=r(21599),b=r(5330),O=r(73946),j=r(36992);const S=({getState:e})=>(0,s.qC)((0,l.l4)(C.TD.type),(0,l.UI)(e),(0,l.hX)((0,s.sv)([y.P6,h.km,(0,s.qC)(s.ff,(0,y.wo)(f.LX))])),(0,l.UI)((0,s.qC)(c.Jn,(0,s.z6)({to:(0,s.Bx)(f.ys),referrer:y.k$})))),x=e=>(0,l.hX)((0,s.v1)(s.xD,[(0,s.qC)((0,y.wo)(f.LX),e),(0,s.qC)(s.ff,h.km,e)])),P=e=>(0,l.UI)((0,s.qC)(c.eD,(0,s.KJ)((0,s.qC)(h.V7,e),(0,s.z6)({to:(0,s.qC)(d.kd,e)}),(0,s.z6)({to:(0,s.Bx)(f.o9),referrer:(0,s.qC)(d.kd,e)})))),q=({getState:e})=>(0,s.qC)((0,l.l4)(O.ue.type),(0,l.hX)((0,s.v1)(s.xD,[(0,s.qC)((0,y.wo)(f.LX),e),(0,s.qC)(s.ff,h.km,e)])),P(e)),I=({getState:e})=>(0,s.qC)((0,l.l4)(c.Ht.type),(0,l.hX)((0,s.qC)(s.ff,d.qB,e)),x(e),P(e)),A=({getState:e})=>(0,s.qC)((0,l.l4)(b.x$.type,b.fT.type),x(e),P(e)),w=(0,j.Z)(c.Jn.type,c.eD.type),T=({getState:e})=>(0,s.qC)((0,l.l4)(v.Wc.type),(0,l.UI)(e),(0,l.hX)((0,y.wo)(f.LX)),(0,l.UI)((()=>(0,_.j$)(E.oK))));var U=r(16039),N=r(98107);const R=({text:e,pathname:t})=>({event:"Add Email Requested",payload:(0,U.Z)({pathname:t,text:e,position:N.dv})}),D=(e="")=>({event:"Add Email Failed",payload:{failureReason:e}}),Z=({isMarketingOptIn:e})=>({event:"Add Email Succeeded",payload:{requestedMarketingOptInState:e}});var M=r(54590),L=r(97321);const H=({analytics:e,getState:t})=>(0,s.qC)((0,l.l4)(c.xb.type),(0,l.UI)((0,s.z6)({text:(0,s.vg)("payload"),pathname:(0,s.qC)(y.RO,t)})),(0,l.UI)(R),(0,l.ut)(e.track)),k=({analytics:e})=>(0,s.qC)((0,l.l4)(c.Hr.type),(0,l.UI)((0,s.ET)(["payload","data","message"])),(0,l.UI)(D),(0,l.ut)(e.track)),V=({analytics:e,getState:t})=>(0,s.qC)((0,l.l4)(c.Ht.type),(0,l.UI)(t),(0,l.UI)((0,s.z6)({accountId:L._4,externalUserId:L.Me,email:h.OD,isMarketingOptIn:d.qB})),(0,l.bw)((({accountId:t,externalUserId:r,email:a})=>{e.identify(t,{externalUserId:r,email:a})})),(0,l.UI)(Z),(0,l.ut)(e.track)),F=({analytics:e,getState:t})=>(0,s.qC)((0,l.l4)(c.c4.type),(0,l.UI)((0,s.z6)({position:(0,s.Bx)(N.dv),pathname:(0,s.qC)(y.RO,t),text:(0,s.vg)("payload")})),(0,l.UI)(M.Z),(0,l.ut)(e.track)),B=[...Object.values(a),...Object.values(i),...Object.values(n),...Object.values(o)]},63256:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(26680),i=r(37105),n=r(4269);const o=(0,a.ZP)({resolved:{},chunkName:()=>"containers-ProfileEmailContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:()=>r.e(8037).then(r.bind(r,29743)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return r(t)},resolve:()=>29743}),s={path:"/profile/email",exact:!0,component:(0,n.Z)((0,i.w)(o)),load:o.load}},79548:(e,t,r)=>{r.d(t,{qB:()=>o,lD:()=>s,wH:()=>l,kd:()=>c});var a=r(77898),i=r(44841);const n=(0,a.qC)((0,a.vg)("profileEmail"),i.O),o=(0,a.qC)((0,a.vg)("isMarketingOptIn"),n),s=(0,a.qC)((0,a.vg)("emailInput"),n),l=(0,a.qC)((0,a.OH)("length",0),s),c=(0,a.qC)((0,a.vg)("referrer"),n)},13408:(e,t,r)=>{r.d(t,{hi:()=>d,rb:()=>u,wT:()=>p,DV:()=>m,fn:()=>i,ZP:()=>o,w3:()=>s,NR:()=>n,T7:()=>l,mL:()=>c,V:()=>g});var a=r(42508);const i=(0,a.PH)("DRAGONFLY_1ST_SCENARIO_START"),n=(0,a.PH)("MIGRATE_WATCH_DATA_SUCCESS"),o=(0,a.PH)("FUN_FREE_NO_CR_MODAL_DISMISSED"),s=(0,a.PH)("FUN_FREE_NO_CR_MODAL_UPSELL_SELECTED"),l=(0,a.PH)("FUN_PREMIUM_NO_CR_MODAL_DISMISSED"),c=(0,a.PH)("WATCH_HISTORY_MERGE_MODAL_DISMISSED"),d=(0,a.PH)("WATCH_HISTORY_MIGRATION_CONFIRMED"),u=(0,a.PH)("REQUEST_WATCH_HISTORY_MERGE_START"),p=(0,a.PH)("REQUEST_WATCH_HISTORY_MERGE_SUCCESS"),m=(0,a.PH)("REQUEST_WATCH_HISTORY_MERGE_ERROR"),g=(0,a.PH)("LRX_MODAL_TRIGGERED")},69884:(e,t,r)=>{r.d(t,{W9:()=>i,i2:()=>n,tJ:()=>o,Aj:()=>s,O0:()=>l,DT:()=>c,Lf:()=>d,Rq:()=>u,j3:()=>p,ij:()=>m,d6:()=>g,vI:()=>v,nD:()=>f,H1:()=>y,Xr:()=>h,l4:()=>C,jq:()=>_,B9:()=>E,UC:()=>b,vl:()=>O,gW:()=>j,Er:()=>S,CW:()=>x,wN:()=>q,Cs:()=>P,C3:()=>I,xk:()=>A,Gb:()=>H,vL:()=>k,wJ:()=>w,oU:()=>T,Sj:()=>U,eE:()=>N,wH:()=>R,PC:()=>D,Fw:()=>Z,aA:()=>M,wi:()=>L});var a=r(32240);const i="no_conflict",n="updated",o="archived",s="not_migrated",l="in_progress",c="skip",d="merge",u="overwrite",p="dragonfly_started",m=7,g="dragonfly.watch_data_transfer.successful",v="fun-free-no-cr",f={[a.z]:v},y="fun-premium-no-cr",h={[a.z]:y},C="fun-free-cr-free",_={[a.z]:C},E="fun-free-cr-premium",b={[a.z]:E},O="fun-premium-cr-free",j={[a.z]:O},S="fun-premium-cr-premium",x={[a.z]:S},P="lrx-activation",q={[a.z]:P},I="lrx-no-activation",A={[a.z]:I},w="ps",T="xbox",U="androidtv",N="firetv",R="appletv",D="roku",Z="switch",M="samsungtv",L="lgtv",H={[w]:"dragonfly.platforms.ps",[T]:"dragonfly.platforms.xbox",[U]:"dragonfly.platforms.androidtv",[N]:"dragonfly.platforms.firetv"},k={[w]:"dragonfly.platforms.store.ps",[T]:"dragonfly.platforms.store.xbox",[U]:"dragonfly.platforms.store.androidtv",[N]:"dragonfly.platforms.store.firetv"}},84632:(e,t,r)=>{r.d(t,{Z:()=>re});var a=r(42508),i=r(77898),n=r(98710),o=r(27749),s=r(25223),l=r(37734),c=r(64389),d=r(7229),u=r(37982),p=r(40257),m=r(1856),g=r(30914),v=r(63069),f=r(67064),y=r.n(f),h=r(51906),C=r(44899);const _={helpLink:(0,i.qC)((0,i.vg)("helpCenter"),v.oK)},E=(0,i.qC)((0,a.$j)(_))((({className:e,helpLink:t})=>(0,C.jsx)(d.Z,{as:"p",size:"l",className:y()("erc-migration-faq",e),"data-t":"faq-description",children:(0,C.jsx)(m.Z,{id:"dragonfly.modal.faq",values:{link:e=>(0,C.jsx)(h.rU,{className:"faq-link",href:t,children:e})}})})));var b=r(34211),O=r(32240),j=r(1516),S=r(13408),x=r(98107);const P={externalLinks:v.oK,isOpen:b.r,isUserMigrationWithoutConflicts:b.iG,isModalFor1stScenarioClosed:b.H9},q={removeQueryParams:j.Gw,funFreeNoCrModalDismissed:S.ZP,funFreeNoCrModalUpsellSelected:S.w3},I=({removeQueryParams:e,funFreeNoCrModalDismissed:t})=>()=>{e([O.z]),t()},A=(0,i.qC)((0,a.$j)(P,q),(0,n.Bx)((0,i.sv)([(0,i.vg)("isUserMigrationWithoutConflicts"),(0,i.qC)(i.ff,(0,i.vg)("isModalFor1stScenarioClosed"))])),o.ZP,(0,n.vl)((0,i.z6)({upsellLink:(0,i.v1)(i.zo,[(0,i.qC)((0,i.ET)(["externalLinks","welcome"])),(0,i.Bx)("?from=newweb-dragonfly-modal#plans")])})),(0,n.CA)({handleClose:I,handleConfirm:I,handleUpsellClick:({funFreeNoCrModalUpsellSelected:e,intl:t})=>()=>{e({text:t.formatMessage({id:"user_migration.fun_free_no_cr.modal.premium_section.cta"}),position:x.gQ})}}))((({isOpen:e,handleClose:t,handleConfirm:r,handleUpsellClick:a,upsellLink:i})=>(0,C.jsx)(s.Z,{isOpen:e,handleClose:t,"data-t":"welcome-free-modal",className:"erc-fun-free-no-cr-modal",hasColoredBorder:!0,children:(0,C.jsxs)("div",{className:"body",children:[(0,C.jsxs)("div",{className:"modal-content",children:[(0,C.jsx)(s.Z.Header,{children:(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.title"})}),(0,C.jsxs)(s.Z.Body,{children:[(0,C.jsx)(s.Z.Text,{className:"modal-description",children:(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.description"})}),(0,C.jsx)("div",{className:"action-wrapper",children:(0,C.jsx)(l.Z,{className:"modal-action","data-t":"start-exploring-btn",onClick:r,children:(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.cta"})})}),(0,C.jsx)(E,{className:"migration-faq"})]})]}),(0,C.jsxs)("div",{className:"premium-wrapper","data-t":"more-with-premium",children:[(0,C.jsx)("img",{src:`${g.S}/assets/img/userMigration/background.png`,srcSet:`${g.S}/assets/img/userMigration/background@2x.png 2x, ${g.S}/assets/img/userMigration/background@3x.png 3x`,alt:"",className:"premium-wrapper-background"}),(0,C.jsx)("img",{src:`${g.S}/assets/img/userMigration/hime.png`,srcSet:`${g.S}/assets/img/userMigration/hime@2x.png 2x, ${g.S}/assets/img/userMigration/hime@3x.png 3x`,alt:"",className:"premium-wrapper-asset"}),(0,C.jsxs)("div",{className:"premium-content",children:[(0,C.jsx)(c.Z,{as:"h2",size:"xs",familyType:"two",weight:"bold",className:"modal-premium-title","data-t":"get-more-title",isFixedSize:!0,children:(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.premium_section.title"})}),(0,C.jsx)(d.Z,{size:"m",as:"p",className:"modal-premium-description","data-t":"description",children:(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.premium_section.description"})}),(0,C.jsxs)(u.Z,{type:"seven","data-t":"premium-plans-list-btn",href:i,onClick:a,children:[(0,C.jsx)(p.Z,{}),(0,C.jsx)(m.Z,{id:"user_migration.fun_free_no_cr.modal.premium_section.cta"})]})]})]})]})}))),w={isOpen:b.hn,isModalFor1stScenarioClosed:b.H9,isUserMigrationWithoutConflicts:b.iG},T={removeQueryParams:j.Gw,funPremiumNoCrModalDismissed:S.T7},U=({removeQueryParams:e,funPremiumNoCrModalDismissed:t})=>()=>{t(),e([O.z])},N=(0,i.qC)((0,a.$j)(w,T),(0,n.Bx)((0,i.sv)([(0,i.vg)("isUserMigrationWithoutConflicts"),(0,i.qC)(i.ff,(0,i.vg)("isModalFor1stScenarioClosed"))])),(0,n.CA)({handleClose:U,handleConfirm:U}))((({isOpen:e,handleClose:t,handleConfirm:r})=>(0,C.jsx)(s.Z,{isOpen:e,handleClose:t,"data-t":"welcome-premium-modal",className:"erc-fun-premium-no-cr-modal",hasColoredBorder:!0,children:(0,C.jsx)(s.Z.Content,{children:(0,C.jsxs)("div",{className:"modal-body",children:[(0,C.jsx)(s.Z.Header,{children:(0,C.jsx)(m.Z,{id:"user_migration.fun_premium_no_cr.modal.title"})}),(0,C.jsx)(s.Z.Text,{className:"modal-description",children:(0,C.jsx)(m.Z,{id:"user_migration.fun_premium_no_cr.modal.description"})}),(0,C.jsx)(s.Z.Text,{className:"modal-description-secondary",children:(0,C.jsx)(m.Z,{id:"user_migration.fun_premium_no_cr.modal.description.secondary"})}),(0,C.jsx)("div",{className:"action-wrapper",children:(0,C.jsx)(l.Z,{className:"modal-action","data-t":"submit-btn",onClick:r,children:(0,C.jsx)(m.Z,{id:"user_migration.fun_premium_no_cr.modal.cta"})})}),(0,C.jsx)(E,{className:"migration-faq"})]})})})));var R=r(99370),D=r(97544);const Z=({isOpen:e,descriptionId:t,secondaryDescriptionId:r,handleClose:a,actions:i})=>(0,C.jsx)(s.Z,{isOpen:e,handleClose:a,"data-t":"migration-lrx-modal",className:"erc-migration-lrx-modal",hasColoredBorder:!0,children:(0,C.jsxs)(s.Z.Content,{children:[(0,C.jsx)("div",{className:"asset-wrapper",children:(0,C.jsx)("img",{src:`${g.S}/assets/img/userMigration/migration-lrx.png`,srcSet:`${g.S}/assets/img/userMigration/migration-lrx@2x.png 2x, ${g.S}/assets/img/userMigration/migration-lrx@3x.png 3x`,alt:"",className:"migration-lrx-asset"})}),(0,C.jsxs)("div",{className:"content-wrapper",children:[(0,C.jsxs)(s.Z.Body,{children:[(0,C.jsx)(s.Z.Header,{children:(0,C.jsx)(m.Z,{id:"user_migration.migration_lrx.modal.title"})}),(0,C.jsx)(s.Z.Text,{children:t}),r&&(0,C.jsx)(s.Z.Text,{className:"secondary-description",children:r})]}),(0,C.jsx)(s.Z.ButtonsGroup,{className:"action-wrapper",children:i})]})]})});var M=r(73759),L=r(16680),H=r(95465);const k=(0,n.vl)((({handlePlatformAvailability:e,handleGoHome:t})=>({actions:(0,C.jsxs)(R.Z,{type:"two",children:[(0,C.jsx)(D.Z,{to:M.HD,"data-t":"device-availability-button",onClick:e,children:(0,C.jsx)(m.Z,{id:"user_migration.migration_lrx.modal.device_availability.action"})}),(0,C.jsx)(D.Z,{to:M.qh,type:"one-weak","data-t":"go-home-button",onClick:t,children:(0,C.jsx)(m.Z,{id:"user_migration.migration_lrx.modal.go_home.action"})})]})}))),V={isOpen:b.V},F=(0,i.qC)((0,L.Z)(H.yj),(0,a.$j)(V),(0,n.vl)({handleGoHome:i.ZT,handlePlatformAvailability:i.ZT}),(0,n.zv)({descriptionId:"user_migration.migration_lrx.modal.no_activation.description"}),(0,n.CA)({handleClose:({removeQueryParams:e})=>()=>e([O.z])}),k)(Z);var B=r(97321);const z=(0,n.vl)((({handlePlatformActivation:e})=>({actions:(0,C.jsx)(D.Z,{to:M.U0,"data-t":"device-activation-button",onClick:e,children:(0,C.jsx)(m.Z,{id:"user_migration.migration_lrx.modal.device_activation.action"})})}))),X={isOpen:b.dZ,platformTranslationId:b.$L,appStoreTranslationId:b.UA,isAuthenticated:B.$8},W={removeQueryParams:j.Gw},$=(0,i.qC)((0,L.Z)(H.yj),(0,a.$j)(X,W),(0,n.Bx)((0,i.sv)([(0,i.vg)("isAuthenticated"),(0,i.vg)("platformTranslationId"),(0,i.vg)("appStoreTranslationId")])),o.ZP,(0,n.vl)((({intl:e,appStoreTranslationId:t,platformTranslationId:r})=>({platform:e.formatMessage({id:r}),appStore:e.formatMessage({id:t})}))),(0,n.vl)({handlePlatformActivation:i.ZT}),(0,n.vl)((({intl:e,appStore:t,platform:r})=>({descriptionId:e.formatMessage({id:"dragonfly.lrx.modal.description"},{appStore:t,device:r}),secondaryDescriptionId:e.formatMessage({id:"user_migration.migration_lrx.modal.activation.description.secondary"})}))),(0,n.CA)({handleClose:({removeQueryParams:e})=>()=>e([O.z])}),z)(Z);var K=r(9593);const G=({className:e,handleConfirm:t,handleDismiss:r})=>(0,C.jsx)("div",{className:y()("erc-watch-history-confirmation",e),"data-t":"confirmation-modal",children:(0,C.jsxs)(s.Z.Content,{children:[(0,C.jsx)(s.Z.Header,{children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_confirmation.modal.title"})}),(0,C.jsx)(s.Z.Body,{children:(0,C.jsx)(s.Z.Text,{className:"confirmation-description",children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_confirmation.modal.description"})})}),(0,C.jsx)(s.Z.ButtonsGroup,{children:(0,C.jsxs)(R.Z,{children:[(0,C.jsx)(l.Z,{className:"confirmation-action","data-t":"accept-btn",onClick:t,children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_confirmation.modal.cta.confirm"})}),(0,C.jsx)(l.Z,{className:"confirmation-action",type:"one-weak","data-t":"cancel-btn",onClick:r,children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_confirmation.modal.cta.dismiss"})})]})}),(0,C.jsx)(E,{className:"migration-faq"})]})});var Y=r(69884);const J={isOpen:b._e,descriptionId:b.yk,isWatchHistoryMergeModalRequired:b.m7},Q={watchHistoryMergeModalDismissed:S.mL,watchHistoryMigrationConfirmed:S.hi},ee=(0,i.qC)((0,a.$j)(J,Q),(0,n.Bx)((0,i.vg)("isWatchHistoryMergeModalRequired")),(0,n.xJ)("isConfirmationViewOpen","setConfirmationView",!1),(0,n.xJ)("migrationWatchDataStatus","setMigrationWatchDataStatus",Y.Lf),o.ZP,(0,n.CA)({handleWatchDataStatusChange:({setMigrationWatchDataStatus:e})=>t=>{e(t.target.value)},handleContinueClick:({setConfirmationView:e})=>()=>{e(!0)},handleBackClick:({setConfirmationView:e})=>()=>{e(!1)},handleClose:({watchHistoryMergeModalDismissed:e})=>()=>{e()},handleConfirm:({migrationWatchDataStatus:e,watchHistoryMigrationConfirmed:t,intl:r})=>()=>{t({text:r.formatMessage({id:"user_migration.watch_history_confirmation.modal.cta.confirm"}),position:x.gQ,migrationWatchDataStatus:e})}}))((({isOpen:e,handleClose:t,handleWatchDataStatusChange:r,handleContinueClick:a,handleBackClick:i,descriptionId:n,migrationWatchDataStatus:o,isConfirmationViewOpen:c,handleConfirm:d})=>(0,C.jsxs)(s.Z,{isOpen:e,handleClose:t,"data-t":"migration-modal",className:"erc-watch-history-merge-modal",hasColoredBorder:!0,children:[(0,C.jsxs)(s.Z.Content,{children:[(0,C.jsx)(s.Z.Header,{children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.title"})}),(0,C.jsxs)(s.Z.Body,{className:"migration-modal-body",children:[(0,C.jsx)(s.Z.Text,{className:"migration-description",children:(0,C.jsx)(m.Z,{id:n})}),(0,C.jsx)(s.Z.Text,{className:"migration-description-secondary",children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.description.secondary"})}),(0,C.jsxs)("div",{className:"migration-radio-buttons-group",children:[(0,C.jsx)(K.Z,{className:"migration-radio-button",label:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.radio_button.combine"}),groupName:"mergeWatchDataStatusOption",value:Y.Lf,isChecked:o===Y.Lf,dataT:"migration-watch-data-option",onChange:r}),(0,C.jsx)(K.Z,{className:"migration-radio-button",label:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.radio_button.keep_fun"}),groupName:"mergeWatchDataStatusOption",value:Y.Rq,isChecked:o===Y.Rq,dataT:"migration-watch-data-option",onChange:r}),(0,C.jsx)(K.Z,{className:"migration-radio-button",label:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.radio_button.keep_cr"}),groupName:"mergeWatchDataStatusOption",value:Y.DT,isChecked:o===Y.DT,dataT:"migration-watch-data-option",onChange:r})]}),(0,C.jsx)(l.Z,{"data-t":"migration-continue-button",onClick:a,children:(0,C.jsx)(m.Z,{id:"user_migration.watch_history_merge.modal.continue_button"})}),(0,C.jsx)(E,{className:"migration-faq"})]})]}),c&&(0,C.jsx)(G,{className:"confirmation-content",handleDismiss:i,handleConfirm:d})]}))),te={isUserMigrationEnabled:r(41088).Eh},re=(0,i.qC)((0,a.$j)(te),(0,n.Bx)((0,i.vg)("isUserMigrationEnabled")))((()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A,{}),(0,C.jsx)(N,{}),(0,C.jsx)(F,{}),(0,C.jsx)($,{}),(0,C.jsx)(ee,{})]})))},47727:(e,t,r)=>{r.d(t,{Z:()=>te});var a={};r.r(a),r.d(a,{clearWatchDataMigrationSuccessfulNotification:()=>q,hideWatchlistMigrationInProgress:()=>x,showWatchDataMigrationInProgress:()=>S,watchDataMigrationSuccessfulNotification:()=>P});var i={};r.r(i),r.d(i,{migrateWatchData1stScenario:()=>w});var n={};r.r(n),r.d(n,{handle1stScenario:()=>N,handleFunFreeNoCr:()=>R,handleFunPremiumNoCr:()=>D});var o={};r.r(o),r.d(o,{migrateWatchHistory:()=>M,migrateWatchHistoryStart:()=>Z,setMigrateWatchHistoryCookie:()=>L});var s={};r.r(s),r.d(s,{handleDataMigrationConfirmed:()=>W,handleUpsellSelectedOnFunFreeNoCrModal:()=>z});var l={};r.r(l),r.d(l,{activationModal:()=>G,alreadyMigratedFlow:()=>K,migrationFlow:()=>$,noActivationModal:()=>Y});var c={};r.r(c),r.d(c,{closeWatchHistoryMergeModal:()=>ee,watchHistoryMerge:()=>Q});var d=r(53793),u=r(77898),p=r(30554),m=r(19901),g=r(73759),v=r(10514),f=r(1516),y=r(29431),h=r(41088),C=r(34211),_=r(69884),E=r(65119),b=r(19567),O=r(21599);const j=()=>(0,u.v1)(u.or,[(0,m.wo)(g.O_),(0,m.wo)(g.IJ)]),S=({getState:e})=>(0,u.qC)((0,p.l4)(E.ce.type,f.us.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([h.Eh,C.Lr,j()])),(0,p.UI)((()=>(0,b.pP)(O.$3)))),x=({getState:e})=>(0,u.qC)((0,p.l4)(f.us.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([h.Eh,C.Lr,(0,u.qC)(u.ff,j())])),(0,p.UI)((()=>(0,b.j$)([O.$3])))),P=({getState:e})=>(0,u.qC)((0,p.l4)(y.S1.type,f.us.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([h.Eh,C.iR,j()])),(0,p.UI)((()=>(0,v.X)(_.d6)))),q=()=>(0,u.qC)((0,p.l4)(v.E.type),(0,p.hX)((0,u.OH)("payload",_.d6)),(0,p.ut)((()=>{d.Z.remove(_.j3)})));var I=r(13408),A=r(97321);const w=({API:e,getState:t})=>(0,u.qC)((0,p.l4)(I.fn.type),(0,p.UI)(t),(0,p.hX)((0,u.sv)([C.Iq,h.Eh])),(0,p.UI)((0,u.z6)({accountId:A._4,status:(0,u.Bx)(_.Lf)})),(0,p.WY)(e.migrateWatchData,I.NR,u.ZT));var T=r(73207),U=r(79711);const N=({getState:e})=>(0,u.qC)((0,p.l4)(f.Wc.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([h.Eh,C.iG,T.V7,(0,m.id)(g.pV),(0,u.qC)(u.ff,C.H9)])),(0,p.UI)(I.fn)),R=({getState:e})=>(0,u.qC)((0,p.l4)(I.fn.type),(0,p.UI)(e),(0,p.hX)((0,u.qC)(u.ff,U.rz)),(0,p.UI)((()=>(0,f.SK)(_.nD)))),D=({getState:e})=>(0,u.qC)((0,p.l4)(I.fn.type),(0,p.UI)(e),(0,p.hX)(U.rz),(0,p.UI)((()=>(0,f.SK)(_.Xr)))),Z=()=>(0,u.qC)((0,p.l4)(I.hi.type),(0,p.UI)((0,u.ET)(["payload","migrationWatchDataStatus"])),(0,p.UI)(I.rb)),M=({API:e,getState:t})=>(0,u.qC)((0,p.l4)(I.rb.type),(0,p.UI)((0,u.vg)("payload")),(0,p.UI)((0,u.z6)({status:u.yR,accountId:(0,u.qC)(A._4,t)})),(0,p.WY)(e.migrateWatchData,I.wT,I.DV)),L=()=>(0,u.qC)((0,p.l4)(I.wT.type),(0,p.ut)((()=>d.Z.set(_.j3,!0,{expires:_.ij}))));var H=r(16039),k=r(98107);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const z=({analytics:e})=>(0,u.qC)((0,p.l4)(I.w3.type),(0,p.ut)((({payload:{text:t,position:r}})=>{e.track({event:"Upsell Selected",payload:F(F({},(0,H.Z)({position:r,text:t})),{},{pageOrScreen:k.KW,upsellType:"static upsell"})})}))),X={[_.DT]:"Keep CR",[_.Rq]:"Keep FUN",[_.Lf]:"Merge FUN & CR"},W=({analytics:e})=>(0,u.qC)((0,p.l4)(I.hi.type),(0,p.ut)((({payload:{text:t,position:r,migrationWatchDataStatus:a}})=>{e.track({event:"Data Migration Confirmation Selected",payload:F(F({},(0,H.Z)({position:r,text:t})),{},{watchDataOption:X[a]})})}))),$=()=>(0,u.qC)((0,p.l4)(I.rb.type,I.ZP.type,I.T7.type),(0,p.UI)((0,u.qC)(I.V,u.ZT))),K=({getState:e})=>(0,u.qC)((0,p.l4)(f.Wc.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([h.Eh,(0,m.id)(g._p),C.Rw])),(0,p.UI)((0,u.qC)(I.V,u.ZT))),G=({getState:e})=>(0,u.qC)((0,p.l4)(I.V.type),(0,p.UI)((0,u.qC)(C.Jn,e)),(0,p.hX)((0,u.gB)([_.wJ,_.oU,_.Sj,_.eE])),(0,p.UI)((()=>(0,f.SK)(_.wN)))),Y=({getState:e})=>(0,u.qC)((0,p.l4)(I.V.type),(0,p.UI)((0,u.qC)(C.Jn,e)),(0,p.hX)((0,u.gB)([_.wH,_.PC,_.Fw,_.aA,_.wi])),(0,p.UI)((()=>(0,f.SK)(_.xk))));var J=r(32240);const Q=({getState:e})=>(0,u.qC)((0,p.l4)(y.S1.type,f.us.type,f.Wc.type),(0,p.UI)(e),(0,p.hX)((0,u.sv)([(0,u.qC)(u.ff,C._e),C.RI])),(0,p.UI)(C.eK),(0,p.UI)(f.SK)),ee=()=>(0,u.qC)((0,p.l4)(I.rb.type,I.mL.type),(0,p.UI)((()=>(0,f.Gw)([J.z])))),te=[...Object.values(a),...Object.values(n),...Object.values(i),...Object.values(o),...Object.values(s),...Object.values(l),...Object.values(c)]},34211:(e,t,r)=>{r.d(t,{iG:()=>g,Iq:()=>h,Lr:()=>C,iR:()=>_,r:()=>b,hn:()=>O,H9:()=>j,_e:()=>P,dZ:()=>S,V:()=>x,Jn:()=>A,UA:()=>T,$L:()=>w,m7:()=>U,RI:()=>N,yk:()=>R,eK:()=>D,Rw:()=>E});var a=r(53793),i=r(77898),n=r(44841),o=r(19901),s=r(32240),l=r(69884),c=r(41088),d=r(79711),u=r(73759);const p=(0,i.qC)((0,i.vg)("dragonfly"),n.O),m=(0,i.qC)((0,i.vg)("migrationStatus"),p),g=(0,i.qC)((0,i.eq)(l.W9),m),v=(0,i.qC)((0,i.eq)(l.i2),m),f=(0,i.qC)((0,i.eq)(l.tJ),m),y=(0,i.qC)((0,i.vg)("watchDataStatus"),p),h=(0,i.qC)((0,i.eq)(l.Aj),y),C=(0,i.qC)((0,i.eq)(l.O0),y),_=(0,i.sv)([(0,i.qC)((0,i.gB)([l.DT,l.Lf,l.Rq]),y),()=>Boolean(a.Z.get(l.j3))]),E=(0,i.qC)((0,i.gB)([l.DT,l.Lf,l.Rq,l.O0]),y),b=(0,i.qC)((0,i.eq)(l.vI),(0,i.vg)(s.z),o.pm),O=(0,i.qC)((0,i.eq)(l.H1),(0,i.vg)(s.z),o.pm),j=(0,i.qC)((0,i.vg)("isModalFor1stScenarioClosed"),p),S=(0,i.qC)((0,i.eq)(l.Cs),(0,i.vg)(s.z),o.pm),x=(0,i.qC)((0,i.eq)(l.C3),(0,i.vg)(s.z),o.pm),P=(0,i.qC)((0,i.gB)([l.l4,l.B9,l.vl,l.Er]),(0,i.vg)(s.z),o.pm),q=(0,i.mJ)([o.I3,(0,o.wo)(u.pV),(0,o.wo)(u.Tk),(0,o.wo)(u.U0)]),I=(0,i.qC)((0,i.vg)("isWatchHistoryMergeModalClosed"),p),A=(0,i.qC)((0,i.vg)("migrationPlatform"),p),w=(0,i.qC)((0,i.RR)((0,i.Ut)(""))(l.Gb),A),T=(0,i.qC)((0,i.RR)((0,i.Ut)(""))(l.vL),A),U=(0,i.sv)([c.Eh,q,h,(0,i.v1)(i.or,[v,f])]),N=(0,i.sv)([U,(0,i.qC)(i.ff,I)]),R=(0,i.wV)([[(0,i.v1)(i.xD,[d.Kh,d.Nl]),(0,i.Bx)("user_migration.watch_history_merge.modal.description.fun_premium.cr_premium")],[d.Nl,(0,i.Bx)("user_migration.watch_history_merge.modal.description.fun_premium.cr_free")],[(0,i.Bx)(!0),(0,i.Bx)("user_migration.watch_history_merge.modal.description.fun_free")]]),D=(0,i.wV)([[(0,i.sv)([(0,i.qC)(i.ff,d.Nl),(0,i.qC)(i.ff,d.Kh)]),(0,i.Bx)(l.jq)],[(0,i.sv)([(0,i.qC)(i.ff,d.Nl),d.Kh]),(0,i.Bx)(l.UC)],[(0,i.sv)([d.Nl,(0,i.qC)(i.ff,d.Kh)]),(0,i.Bx)(l.gW)],[(0,i.sv)([d.Nl,d.Kh]),(0,i.Bx)(l.CW)]])},67537:(e,t,r)=>{r.d(t,{JK:()=>i,JA:()=>n,w4:()=>o,LX:()=>s,LR:()=>l,wg:()=>c,HV:()=>d});var a=r(42508);const i=(0,a.PH)("FETCH_USERNAMES_START"),n=(0,a.PH)("FETCH_USERNAMES_SUCCESS"),o=(0,a.PH)("FETCH_USERNAMES_ERROR"),s=(0,a.PH)("SAVE_USERNAME_START"),l=(0,a.PH)("SAVE_USERNAME_SUCCESS"),c=(0,a.PH)("SAVE_USERNAME_ERROR"),d=(0,a.PH)("SAVE_USERNAME_VALIDATION_ERROR")},79029:(e,t,r)=>{r.d(t,{Z:()=>f});var a={};r.r(a),r.d(a,{fetchUsernames:()=>c,fetchUsernamesErrorNotification:()=>d});var i={};r.r(i),r.d(i,{save:()=>v});var n=r(77898),o=r(30554),s=r(67537),l=r(10514);const c=({API:e})=>(0,n.qC)((0,o.l4)(s.JK.type),(0,o.WY)(e.getUsernames,s.JA,s.w4)),d=()=>(0,n.qC)((0,o.l4)(s.w4.type),(0,o.UI)((()=>(0,l.X)("input.username.uploading_error_message","error"))));var u=r(97543);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=({API:e})=>(0,n.qC)((0,o.l4)(s.LX.type),(0,o.VS)((({payload:t})=>e.saveUsername(t).then((()=>(0,s.LR)(t))).catch((e=>e.status===u.Fq?(0,s.HV)(m(m({},e),{},{usernameSuggestion:(0,n.ET)(["data","context",0,"violated_constraints","username"],e)})):(0,s.wg)()))))),f=[...Object.values(a),...Object.values(i)]},80810:(e,t,r)=>{r.d(t,{Z:()=>Ne});var a=r(78704),i=r(66039),n=r(98486),o=r.n(n),s=r(42508),l=r(23218),c=r(77898),d=r(2693),u=r(14005),p=r(73946),m=r(30612),g=r(47798),v=r(3281),f=r(36175),y=r(45875);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=(0,s.ju)(d.J_.IDLE,{[p.Wl.type]:(0,c.Bx)(d.J_.PENDING),[p.ue.type]:(0,c.Bx)(d.J_.SUCCESS),[p.H9.type]:(0,c.Bx)(d.J_.ERROR),[p.VW.type]:(0,c.Bx)(d.J_.PENDING)}),b=(0,c.OH)("type",p.H9.type),O=(0,c.v1)(c.TS,[l.OY,(0,c.qC)((0,c.RV)("email"),l.NE)]),j=(0,s.$m)(b)((0,s.ju)({preferences:{isClosedCaptionsEnabled:!1}},{[p.ue.type]:(0,c.v1)(o(),[l.OY,l.NE]),[g.$r.type]:O,[y.Ht.type]:O,[v.It.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),t)}),[v.NN.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),{},{[t.settingName]:t.oldValue})}),[v.Ns.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),t)}),[v.o3.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),t.reduce(((e,t)=>C(C({},e),{},{[t.settingName]:t.oldValue})),{}))}),[m.gw.type]:(e,{payload:t})=>C(C({},e),{},{avatar:t,oldAvatar:e.avatar}),[m.RD.type]:e=>C(C({},e),{},{avatar:e.oldAvatar,oldAvatar:void 0}),[f.v.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),{},{[u.$i]:t})}),[v.BN.type]:(e,{payload:t})=>C(C({},e),{},{preferences:C(C({},e.preferences),{},{isClosedCaptionsEnabled:t})})})),S=(0,a.UY)({profile:j,status:E});var x=r(22307),P=r(92483),q=r(10113);const I=(0,s.ju)(null,{[P.Cl.type]:l.NE,[x.c.type]:l.NE,[m.y8.type]:(0,c.Bx)(q.tU)}),A=(0,s.ju)(null,{[x.c.type]:l.NE,[m.y8.type]:(0,c.Bx)(q.tU)}),w=(0,a.UY)({userAvatar:I,userRandomAvatar:A});var T=r(34975);const U=(0,s.ju)("",{[T.YI.type]:l.NE,[T.AT.type]:l.NE,[T.R.type]:l.NE}),N=(0,s.ju)({msg:"",isError:!1},{[T.K1.type]:l.NE,[T.Yp.type]:(0,c.Bx)({msg:"",isError:!1})}),R=(0,s.ju)("",{[T.AT.type]:l.NE}),D=(0,s.ju)("",{[T.R.type]:l.NE}),Z=(0,a.UY)({username:U,usernameValidation:N,moderatedUsername:R,generatedUsername:D});var M=r(73759),L=r(3840);const H=(0,s.ju)(M.qh,{[L.mp.type]:(0,c.qC)((0,c.vg)("referrer"),l.NE)}),k=(0,a.UY)({avatar:w,username:Z,referrer:H});var V=r(31385),F=r(96377);const B=e=>[(0,c.sE)((0,c.eq)(e)),(0,c.Bx)(e)],z=(0,s.ju)({},{[F.t6.type]:l.NE}),X=(0,s.ju)(null,{[F.t6.type]:(0,c.qC)((0,c.wV)([B(V.Pi),B(V.rc),B(V.N7),[Boolean,(0,c.Bx)(V.v8)]]),(0,c.vg)("benefits"),l.NE)}),W=(0,s.ju)(null,{[F.K9.type]:(0,c.qC)((0,c.vg)("isEligible"),l.NE)}),$=(0,s.ju)(V.ER,{[F.K9.type]:(0,c.qC)((0,c.vg)("freeTrialDuration"),l.NE)}),K=(0,s.ju)({},{[F.Qc.type]:l.NE}),G=(0,s.ju)({},{[F.x3.type]:l.NE}),Y=(0,a.UY)({userPremiumStatus:z,isEligibleForFreeTrial:W,freeTrialDuration:$,premiumPrice:K,fanPackPrice:G,accessType:X}),J=(0,s.ju)(!0,{[P.jg.type]:l.K1,[P.Cl.type]:l.oC,[P.Lf.type]:l.oC}),Q=(0,s.ju)(null,{[P.wm.type]:l.NE,[P.jg.type]:l.NE,[P.Cl.type]:(0,c.Bx)(null),[P.Lf.type]:(0,c.Bx)(null)}),ee=(0,a.UY)({isSaveButtonDisabled:J,selectedAvatar:Q});var te=r(26885),re=r(67400),ae=r(67537);const ie=(0,s.ju)(!0,{[ae.JK.type]:l.oC,[ae.JA.type]:l.K1,[ae.w4.type]:l.K1}),ne=(0,s.ju)(!1,{[ae.JK.type]:l.K1,[ae.w4.type]:l.oC}),oe=(0,s.ju)(!1,{[ae.LX.type]:l.oC,[ae.LR.type]:l.K1,[ae.wg.type]:l.K1,[ae.HV.type]:l.K1}),se=(0,s.ju)([],{[ae.JA.type]:l.NE}),le=(0,a.UY)({isLoading:ie,isError:ne,isSaving:oe,usernameList:se});var ce=r(89218),de=r(19567);const ue=(0,s.ju)(!1,{[ce.n.type]:l.oC,[ce.x.type]:l.oC}),pe=(0,s.ju)(!1,{[de.Rm.type]:l.oC,[de.VZ.type]:l.oC}),me=(0,a.UY)({isModalClosed:ue,isMessageClosed:pe});var ge=r(45682);const ve=(0,s.ju)("",{[ge.oX.type]:l.NE,[ge.zP.type]:(0,c.Bx)("")}),fe=(0,s.ju)(!1,{[ge.Z5.type]:l.oC,[ge.zP.type]:l.K1,[ge.Vs.type]:l.K1,[ge.GC.type]:l.K1}),ye=(0,s.ju)(!1,{[ge.Z5.type]:l.K1,[ge.oX.type]:l.K1,[ge.GC.type]:l.oC}),he=(0,a.UY)({isLoading:fe,isInvalid:ye,code:ve});var Ce=r(26375),_e=r(65119),Ee=r(13408),be=r(46373),Oe=r(69884);const je=(0,s.$m)((0,c.OH)("type",_e.Tf.type))((0,s.ju)(null,{[_e.ce.type]:(0,c.qC)((0,c.vg)("migrationStatus"),(0,c.vg)("userMigration"),l.NE)})),Se=(0,s.$m)((0,c.OH)("type",_e.Tf.type))((0,s.ju)(null,{[_e.ce.type]:(0,c.qC)((0,c.vg)("watchDataStatus"),(0,c.vg)("userMigration"),l.NE),[Ee.NR.type]:(0,c.Bx)(Oe.O0),[Ee.wT.type]:(0,c.Bx)(Oe.O0)})),xe=(0,s.ju)(!1,{[Ee.w3.type]:l.oC,[Ee.ZP.type]:l.oC,[Ee.T7.type]:l.oC}),Pe=(0,s.ju)(!1,{[Ee.mL.type]:l.oC,[Ee.rb.type]:l.oC}),qe=(0,s.ju)(null,{[be.M.type]:l.NE}),Ie=(0,a.UY)({migrationStatus:je,watchDataStatus:Se,isModalFor1stScenarioClosed:xe,isWatchHistoryMergeModalClosed:Pe,migrationPlatform:qe}),Ae=(0,s.ju)("",{[y.tu.type]:l.NE}),we=(0,s.ju)(!1,{[y.dE.type]:l.NE}),Te=(0,s.ju)(M.qh,{[y.Jn.type]:(0,c.qC)((0,c.vg)("referrer"),l.NE)}),Ue=(0,a.UY)({emailInput:Ae,isMarketingOptIn:we,referrer:Te}),Ne=(0,a.UY)({account:i.Z,etpProfile:S,profileActivation:k,membership:Y,changeAvatarModal:ee,accountPage:te.Z,avatars:re.ZP,usernames:le,connectedDevices:he,languagePreferencesOnboarding:me,activeDevices:Ce.ZP,dragonfly:Ie,profileEmail:Ue})},48868:(e,t,r)=>{r.r(t),r.d(t,{activateDevice:()=>F,changePassword:()=>i.Cp,createAnonymousToken:()=>a.er,createAuthenticatedToken:()=>a.ou,createEmailVerificationLink:()=>x,deactivateAllDevices:()=>i.Q$,deactivateDevice:()=>i.kG,disconnectApp:()=>i.zw,getAccount:()=>a.D0,getAccountSubscriptions:()=>i.Vr,getActiveDevices:()=>i.ao,getAppAuthorizeUrl:()=>i.dI,getAudioLanguages:()=>i.u2,getAvatars:()=>n.g,getConnectedApps:()=>i.yz,getFanPackPrice:()=>L,getFreeTrialEligibility:()=>H,getNotificationSettings:()=>i.DZ,getPremiumPrice:()=>M,getProfile:()=>j,getSubtitleLanguages:()=>i.qK,getUserPremiumStatus:()=>k,getUsernames:()=>P,getWallpapers:()=>i.L1,migrateWatchData:()=>B,restartMembership:()=>i.Hb,saveUsername:()=>q,setEmail:()=>z,updateEmail:()=>i.s,updateNotificationSettings:()=>i.lU,updateProfile:()=>S});var a=r(36825),i=r(70365),n=r(32858),o=r(77898),s=r(38439),l=r(85585),c=r.n(l),d=r(36751),u=r(14005);const{baseStaticUrl:p}=c(),m=(0,o.vg)("username"),g=(0,o.vg)("email"),v=(0,o.vg)("phone_number"),f=(0,o.qC)((0,o.yA)(""),(0,o.vg)("avatar")),y=(0,o.qC)((0,o.Py)(Boolean,(0,o.zo)(`${p}/assets/avatar/170x170/`)),f),h=(0,o.vg)("wallpaper"),C=(0,o.qC)((0,o.Py)(Boolean,(0,o.zo)(`${p}/assets/wallpaper/${d.kd}/`)),h),_=(0,o.sv)([f,m]),E=(0,o.ei)([u.Kc,u.n8,u.RI,u.oU,u.$i,u.YN]),b=(0,o.vg)("do_not_sell"),O=(0,o.z6)({username:m,email:g,phone:v,avatar:f,avatarSource:y,wallpaper:h,wallpaperSource:C,isProfileActivated:_,preferences:E,doNotSell:b}),j=()=>s.Z.Account.getProfile().then((0,o.vg)("data")).then(O),S=s.Z.Account.updateProfile,x=()=>s.Z.Account.createEmailVerificationLink(),P=()=>s.Z.Account.getUsernames().then((0,o.ET)(["data","usernames"])),q=e=>s.Z.Account.updateCredentials({username:e});var I=r(97543),A=r(4503);const w=(0,o.z6)({amount:(0,o.vg)("amount"),currency:(0,o.vg)("currency_code")}),T=(0,o.z6)({isEligible:(0,o.vg)("is_eligible"),freeTrialDuration:(0,o.qC)((0,o.vg)("days"),A.Qc,(0,o.vg)("free_trial_duration"))}),U=(0,o.qC)((0,o.eq)("cr_premium"),(0,o.vg)("benefit")),N=(0,o.qC)((0,o.q9)("funimation"),(0,o.vg)("source")),R=(0,o.qC)(o.ff,N),D=(0,o.z6)({isPremiumFromDragonfly:(0,o.Yj)((0,o.v1)(o.xD,[U,N])),isPremiumFromCrunchyroll:(0,o.Yj)((0,o.v1)(o.xD,[U,R])),benefits:(0,o.UI)((0,o.vg)("benefit"))}),Z=e=>s.Z.Subscription.getProduct({sku:e}).then((0,o.vg)("data")).then(w),M=()=>Z("cr_premium.1_month"),L=()=>Z("cr_fan_pack.1_month"),H=e=>s.Z.Subscription.getFreeTrialEligibility({externalAccountId:e}).then((0,o.vg)("data")).then(T),k=e=>s.Z.Subscription.getBenefits({externalAccountId:e}).then((0,o.qC)(D,(0,o.ET)(["data","items"]))).catch((e=>{if([I.LX,I.wM].includes(e.status))return D([]);throw e})),V=(0,o.z6)({clientName:(0,o.vg)("client_name")}),F=e=>s.Z.Devices.activateDevice({user_code:e}).then((0,o.vg)("data")).then(V).catch((e=>{var t;return Promise.reject(null==e||null===(t=e.data)||void 0===t?void 0:t.code)})),B=({accountId:e,status:t})=>s.Z.FunMigrator.migrateWatchData({accountId:e,status:t}),z=e=>s.Z.Account.setEmail({email:e})},44841:(e,t,r)=>{r.d(t,{O:()=>a});const a=(0,r(35199).Z)("userManagement")}}]);